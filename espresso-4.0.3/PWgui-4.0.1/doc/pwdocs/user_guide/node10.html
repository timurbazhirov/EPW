<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>[edit] Run examples</TITLE>
<META NAME="description" CONTENT="[edit] Run examples">
<META NAME="keywords" CONTENT="user_guide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="user_guide.css">

<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node9.html">
<LINK REL="up" HREF="user_guide.html">
<LINK REL="next" HREF="node11.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html243"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html241"
  HREF="user_guide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html235"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html244"
  HREF="node11.html">[edit] Installation tricks and</A>
<B> Up:</B> <A NAME="tex2html242"
  HREF="user_guide.html">User's Guide for Quantum-ESPRESSO</A>
<B> Previous:</B> <A NAME="tex2html236"
  HREF="node9.html">[edit] Compile</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000010000000000000000">
[edit] Run examples</A>
</H2>

<P>
As a final check that compilation was successful, you may want to run some or
all of the examples contained within the examples directory of the 
Quantum-ESPRESSO distribution. Those examples try to exercise all the programs
and features of the Quantum-ESPRESSO package. A list of examples and
of what each example does is contained in examples/README. For details,
see the README file in each example’s directory. If you find that any relevant
feature isn’t being tested, please contact us (or even better, write and send
us a new example yourself !).

<P>
If you haven’t downloaded the full Quantum-ESPRESSO distribution and
don’t have the examples, you can get them from the Test and Examples Page
of the Quantum-ESPRESSO web site (http://www.pwscf.org/tests.htm).
The necessary pseudopotentials are included.

<P>
To run the examples, you should follow this procedure:

<P>
1. Go to the examples directory and edit the environment variables file, setting the following variables as needed:

<P>
<PRE>        BIN_DIR= directory where Quantum-ESPRESSO executables reside
        PSEUDO_DIR= directory where pseudopotential files reside
        TMP_DIR= directory to be used as temporary storage area
</PRE>

<P>
If you have downloaded the full Quantum-ESPRESSO distribution, you may set 
BIN_DIR=$TOPDIR/bin and PSEUDO_DIR=$TOPDIR/pseudo, where $TOPDIR is the root of the Quantum-ESPRESSO source tree. In order to be able to run all the examples, the PSEUDO_DIR directory must contain all the needed pseudopotentials.
If any of these are missing, you can download them (and many others) from the Pseudopotentials Page of the Quantum-ESPRESSO web site (http://www.pwscf.org/pseudo.htm). TMP_DIR must be a directory you have read and write access to, with enough available space to host the temporary files produced by the example runs, and possibly oﬀering high I/O performance (i.e., don’t use an NFS-mounted directory).

<P>
2. If you have compiled the parallel version of Quantum-ESPRESSO (this is the default if parallel libraries are detected), you will usually have to specify a driver program (such as poe or mpiexec) and the number of processors: see section 
Running on parallel machines for details. In order to do that, edit again the environment variables file and set the PARA_PREFIX and PARA_POSTFIX variables as needed. Parallel executables will be run by a command like this:

<P>
<PRE>     \$PARA_PREFIX pw.x \$PARA_POSTFIX &lt; file.in &gt; file.out
</PRE>

<P>
For example, if the command line is like this (as for an IBM SP):

<P>
<PRE>     poe pw.x -procs 4 &lt; file.in &gt; file.out
</PRE>

<P>
you should set PARA_PREFIX="poe", PARA_POSTFIX="-procs 4". Furthermore, if your machine does not support interactive use, you must run the commands specified below through the batch queueing system installed on that machine. Ask your system administrator for instructions.

<P>
3. To run a single example, go to the corresponding directory (for instance, example/example01) and execute:

<P>
<PRE>     ./run_example
</PRE>

<P>
This will create a subdirectory results, containing the input and output files generated by the calculation. Some examples take only a few seconds to run, while others may require several minutes depending on your system.

<P>
To run all the examples in one go, execute:

<P>
<PRE>     ./run_all_examples
</PRE>

<P>
from the examples directory. On a single-processor machine, this typically takes one to three hours. The make clean script cleans the examples tree, by removing all the results subdirectories. However, if additional subdirectories have been created, they aren’t deleted.

<P>
4. In each example’s directory, the reference subdirectory contains verified output files, that you can check your results against. They were generated on a Linux PC using the Intel compiler. On diﬀerent architectures the precise numbers could be slightly diﬀerent, in particular if diﬀerent FFT dimensions are automatically selected. For this reason, a plain diff of your results against the reference data doesn’t work, or at least, it requires human inspection of the results. Instead, you can run the 
check_example script in the examples directory:

<P>
<PRE>     ./check_example example_dir
</PRE>

<P>
where example dir is the directory of the example that you want to check (e.g., ./check_example example01). You can specify multiple directories. 

<P>
<B>Note</B>: check_example does only a fair job, and only for a few examples. 
For pw.x only, a much better series of automated tests (under development)
is available in directory tests/. Edit variables PARA_PREFIX, 
PARA_POSTFIX (if needed) in file "check_pw.x.j"; explanations on how to run it
are in the header of the file.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html243"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html241"
  HREF="user_guide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html235"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html244"
  HREF="node11.html">[edit] Installation tricks and</A>
<B> Up:</B> <A NAME="tex2html242"
  HREF="user_guide.html">User's Guide for Quantum-ESPRESSO</A>
<B> Previous:</B> <A NAME="tex2html236"
  HREF="node9.html">[edit] Compile</A>
<!--End of Navigation Panel-->
<ADDRESS>
Paolo Giannozzi
2008-07-01
</ADDRESS>
</BODY>
</HTML>
